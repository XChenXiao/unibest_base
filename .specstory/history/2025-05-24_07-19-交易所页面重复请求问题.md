<!-- Generated by SpecStory -->

# äº¤æ˜“æ‰€é¡µé¢é‡å¤è¯·æ±‚é—®é¢˜ (2025-05-24 15:19:01)

_**User**_

å¸®æˆ‘è§£å†³äº¤æ˜“æ‰€é¡µé¢ï¼Œä¸ºä»€ä¹ˆé¦–æ¬¡è¿›å…¥ä¼šå‘é€ä¸‰æ¬¡é‡å¤è¯·æ±‚

---

_**Assistant**_



---

æˆ‘çœ‹åˆ°æ‚¨æä¾›çš„ä»£ç æ˜¯é“¶è¡Œå¡ç”³è¯·é¡µé¢ï¼Œä½†æ‚¨é—®çš„æ˜¯äº¤æ˜“æ‰€é¡µé¢çš„é‡å¤è¯·æ±‚é—®é¢˜ã€‚è®©æˆ‘å…ˆæœç´¢äº¤æ˜“æ‰€ç›¸å…³çš„é¡µé¢ä»£ç æ¥å®šä½é—®é¢˜ã€‚

---

<details>
            <summary>Searched codebase "äº¤æ˜“æ‰€é¡µé¢ é¦–æ¬¡è¿›å…¥ è¯·æ±‚" â€¢ **25** results</summary>
        
| File | Lines |
|------|-------|
| `src/pages/trading/exchange.vue` | L835-899 |
| `src/pages/trading/exchange.vue` | L585-631 |
| `src/pages/trading/index.vue` | L245-342 |
| `src/pages/trading/index.vue` | L1-76 |
| `src/pages/trading/exchange.vue` | L758-835 |
| `src/pages/trading/exchange.vue` | L1-55 |
| `src/pages/trading/exchange.vue` | L421-468 |
| `src/pages/trading/exchange.vue` | L631-706 |
| `src/pages/trading/exchange.vue` | L468-517 |
| `src/pages/trading/index.vue` | L76-161 |
| `src/pages/trading/exchange.vue` | L372-421 |
| `src/pages/trading/exchange.vue` | L899-978 |
| `src/pages/assets/components/CurrencyTab.vue` | L291-358 |
| `src/pages/trading/exchange.vue` | L706-758 |
| `src/pages/trading/exchange.vue` | L336-372 |
| `src/pages/assets/index.vue` | L549-614 |
| `src/pages/assets/components/CurrencyTab.vue` | L236-291 |
| `src/pages/trading/exchange.vue` | L295-336 |
| `src/pages/trading/exchange.vue` | L215-295 |
| `src/pages/trading/trade-detail.vue` | L510-580 |
| `src/pages/trading/trade-detail.vue` | L109-163 |
| `src/pages/trading/index.vue` | L161-190 |
| `src/pages/trading/exchange.vue` | L517-585 |
| `src/pages/trading/trade-detail.vue` | L163-209 |
| `src/pages/trading/index.vue` | L190-245 |

</details>

---

è®©æˆ‘ç»§ç»­æœç´¢æ›´å¤šç›¸å…³çš„ä»£ç ï¼Œç‰¹åˆ«æ˜¯å…³äºç”Ÿå‘½å‘¨æœŸå’Œåˆå§‹åŒ–çš„éƒ¨åˆ†ï¼š

---

<details>
            <summary>Grep search for "onMounted|onShow|onLoad" â€¢ **2** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L213 | `import { ref, reactive, computed, onMounted, onUnmounted, watch, toRefs } from 'vue'` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L214 | `import { onShow } from '@dcloudio/uni-app'` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L851 | `onShow(() => {` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L878 | `onMounted(async () => {` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L213 | `import { ref, reactive, computed, onMounted, onUnmounted, watch, toRefs } from 'vue'` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L214 | `import { onShow } from '@dcloudio/uni-app'` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L851 | `onShow(() => {` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L878 | `onMounted(async () => {` |

</details>

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹äº¤æ˜“æ‰€é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸéƒ¨åˆ†çš„è¯¦ç»†ä»£ç ï¼š

---

Read file: src/pages/trading/exchange.vue

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹ `useTabItemTap` è¿™ä¸ªé’©å­çš„ä»£ç ï¼Œå®ƒå¯èƒ½ä¹Ÿåœ¨è§¦å‘è¯·æ±‚ï¼š

---

<details>
            <summary>Searched codebase "useTabItemTap" â€¢ **25** results</summary>
        
| File | Lines |
|------|-------|
| `src/hooks/useTabItemTap.ts` | L58-103 |
| `src/hooks/useTabItemTap.ts` | L1-58 |
| `src/pages/trading/exchange.vue` | L835-899 |
| `src/components/fg-tabbar/fg-tabbar.vue` | L1-54 |
| `src/utils/index.ts` | L10-24 |
| `src/components/fg-tabbar/fg-tabbar.vue` | L54-100 |
| `src/components/fg-tabbar/tabbar.ts` | L1-14 |
| `src/document/trading-page.txt` | L54-93 |
| `src/pages/assets/components/CurrencyTab.vue` | L236-291 |
| `src/types/auto-import.d.ts` | L177-188 |
| `src/pages/assets/index.vue` | L1-81 |
| `src/layouts/tabbar.vue` | L1-20 |
| `src/types/uni-pages.d.ts` | L46-50 |
| `src/pages/team/index.vue` | L1-47 |
| `src/pages/assets/components/CurrencyTab.vue` | L291-358 |
| `src/pages/trading/exchange.vue` | L215-295 |
| `pages.config.ts` | L1-61 |
| `src/document/assets-page.txt` | L44-87 |
| `src/pages.json` | L1-57 |
| `src/pages/index/index.vue` | L1-61 |
| `src/pages/trading/exchange.vue` | L758-835 |
| `src/document/assets-page.txt` | L571-690 |
| `src/utils/index.ts` | L1-10 |
| `src/types/uni-pages.d.ts` | L52-59 |
| `src/types/auto-import.d.ts` | L66-101 |

</details>

---

é€šè¿‡åˆ†æä»£ç ï¼Œæˆ‘å‘ç°äº†äº¤æ˜“æ‰€é¡µé¢é¦–æ¬¡è¿›å…¥ä¼šå‘é€ä¸‰æ¬¡é‡å¤è¯·æ±‚çš„é—®é¢˜ã€‚é—®é¢˜ä¸»è¦å‡ºç°åœ¨ `src/pages/trading/exchange.vue` é¡µé¢ä¸­ã€‚è®©æˆ‘æ¥è§£é‡Šä¸€ä¸‹é—®é¢˜çš„æ ¹æœ¬åŸå› å’Œè§£å†³æ–¹æ¡ˆï¼š

## é—®é¢˜æ ¹æºåˆ†æ

äº¤æ˜“æ‰€é¡µé¢å­˜åœ¨ä¸‰ä¸ªä¸åŒçš„ç”Ÿå‘½å‘¨æœŸé’©å­å’Œå›è°ƒï¼Œå®ƒä»¬éƒ½åœ¨è§¦å‘ç›¸åŒçš„æ•°æ®è¯·æ±‚ï¼š

1. **`useTabItemTap` é’©å­çš„ `onTabTap` å›è°ƒ** - å½“åˆ‡æ¢åˆ°äº¤æ˜“æ‰€Tabæ—¶è§¦å‘
2. **`onShow` ç”Ÿå‘½å‘¨æœŸé’©å­** - é¡µé¢æ˜¾ç¤ºæ—¶è§¦å‘
3. **`onMounted` ç”Ÿå‘½å‘¨æœŸé’©å­** - é¡µé¢æŒ‚è½½æ—¶è§¦å‘

è¿™ä¸‰ä¸ªé’©å­åœ¨é¦–æ¬¡è¿›å…¥é¡µé¢æ—¶ä¼šå‡ ä¹åŒæ—¶æ‰§è¡Œï¼Œå¯¼è‡´å‘é€ä¸‰æ¬¡é‡å¤çš„APIè¯·æ±‚ã€‚

## è§£å†³æ–¹æ¡ˆ

æˆ‘å°†ä¿®æ”¹äº¤æ˜“æ‰€é¡µé¢ä»£ç ï¼Œæ·»åŠ ä¸€ä¸ªåˆå§‹åŒ–çŠ¶æ€æ§åˆ¶å’Œé˜²é‡å¤è¯·æ±‚æœºåˆ¶ï¼š

---

```diff
  // ä¸‹æ‹‰åˆ·æ–°çŠ¶æ€
  const refreshing = ref(false)
+ // é¡µé¢åˆå§‹åŒ–çŠ¶æ€
+ const isInitialized = ref(false)
+ // æ•°æ®è¯·æ±‚é˜²æŠ–çŠ¶æ€
+ const requestingData = ref(false)
  
  // å›¾è¡¨æ—¶é—´å‘¨æœŸ
```

```diff
    }
  }
+ 
+ // é˜²é‡å¤è¯·æ±‚çš„æ•°æ®è·å–æ–¹æ³•
+ const fetchDataWithDebounce = async () => {
+   // å¦‚æœå·²ç»åœ¨è¯·æ±‚æ•°æ®ï¼Œåˆ™è·³è¿‡
+   if (requestingData.value) {
+     console.log('æ•°æ®è¯·æ±‚æ­£åœ¨è¿›è¡Œä¸­ï¼Œè·³è¿‡é‡å¤è¯·æ±‚')
+     return
+   }
+ 
+   requestingData.value = true
+   try {
+     // æ ¹æ®å½“å‰é€‰ä¸­çš„æ ‡ç­¾åˆ·æ–°å¯¹åº”æ•°æ®
+     if (activeTab.value === 'currency') {
+       // æ¸…ç©ºå½“å‰è´§å¸åˆ—è¡¨ï¼Œé‡æ–°è·å–äº¤æ˜“è®¢å•æ•°æ®
+       currencies.length = 0
+       await fetchCurrencyOrders()
+     } else {
+       await fetchEquityData()
+     }
+   } finally {
+     requestingData.value = false
+   }
+ }
  
  // ä½¿ç”¨TabBaråˆ‡æ¢é’©å­ï¼Œè‡ªåŠ¨åˆ·æ–°äº¤æ˜“æ‰€æ•°æ®
```

```diff
    onTabTap: () => {
      console.log('äº¤æ˜“æ‰€é¡µé¢Tabè¢«ç‚¹å‡»ï¼Œåˆ·æ–°å½“å‰é€‰ä¸­çš„æ•°æ®')
+     // å¦‚æœé¡µé¢æœªåˆå§‹åŒ–ï¼Œè·³è¿‡Tabç‚¹å‡»è§¦å‘çš„è¯·æ±‚
+     if (!isInitialized.value) {
+       console.log('é¡µé¢æœªåˆå§‹åŒ–å®Œæˆï¼Œè·³è¿‡Tabç‚¹å‡»è§¦å‘çš„æ•°æ®è¯·æ±‚')
+       return
+     }
      // ä¸å†ä»storeåˆ·æ–°ç”¨æˆ·ä¿¡æ¯ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨å·²æœ‰æ•°æ®
      // æ ¹æ®å½“å‰é€‰ä¸­çš„æ ‡ç­¾åˆ·æ–°å¯¹åº”æ•°æ®
-     if (activeTab.value === 'currency') {
-       fetchCurrencyOrders()
-     } else {
-       fetchEquityData()
-     }
+     fetchDataWithDebounce()
    },
  })
```

```diff
  onShow(() => {
    console.log('äº¤æ˜“æ‰€é¡µé¢æ˜¾ç¤ºï¼Œå¼€å§‹åˆ·æ–°æ•°æ®')
+ 
+   // å¦‚æœé¡µé¢æœªåˆå§‹åŒ–ï¼Œè·³è¿‡onShowè§¦å‘çš„è¯·æ±‚
+   if (!isInitialized.value) {
+     console.log('é¡µé¢æœªåˆå§‹åŒ–å®Œæˆï¼Œè·³è¿‡onShowè§¦å‘çš„æ•°æ®è¯·æ±‚')
+     return
+   }
  
    // å¼‚æ­¥åˆ·æ–°æ•°æ®
```

```diff
      console.log('ä½¿ç”¨ç°æœ‰çš„ç”¨æˆ·è´§å¸ç¼“å­˜æ•°æ®ï¼Œä¸å¼ºåˆ¶åˆ·æ–°')
  
-     // æ ¹æ®å½“å‰é€‰ä¸­çš„æ ‡ç­¾åˆ·æ–°å¯¹åº”æ•°æ®
-     if (activeTab.value === 'currency') {
-       // æ¸…ç©ºå½“å‰è´§å¸åˆ—è¡¨ï¼Œé‡æ–°è·å–äº¤æ˜“è®¢å•æ•°æ®
-       currencies.length = 0
-       await fetchCurrencyOrders()
-     } else {
-       await fetchEquityData()
-     }
+     await fetchDataWithDebounce()
  
      console.log('äº¤æ˜“æ‰€é¡µé¢æ•°æ®åˆ·æ–°å®Œæˆ')
```

```diff
  // é¡µé¢åŠ è½½æ—¶è·å–æ•°æ®
  onMounted(async () => {
+   console.log('äº¤æ˜“æ‰€é¡µé¢å¼€å§‹åˆå§‹åŒ–')
+   
    // ä»storeè·å–ç”¨æˆ·ä¿¡æ¯ï¼Œä½†ä¸å¼ºåˆ¶åˆ·æ–°
    await userInfoStore.getUserCompleteInfo(false)
```

```diff
    }
  
+   // æ‰§è¡Œåˆå§‹æ•°æ®è·å–
    if (activeTab.value === 'currency') {
      currencies.length = 0
-     fetchCurrencyOrders()
+     await fetchCurrencyOrders()
    } else {
-     fetchEquityData()
+     await fetchEquityData()
    }
+ 
+   // æ ‡è®°é¡µé¢åˆå§‹åŒ–å®Œæˆ
+   isInitialized.value = true
+   console.log('äº¤æ˜“æ‰€é¡µé¢åˆå§‹åŒ–å®Œæˆ')
  })
  
```

---

ç°åœ¨è®©æˆ‘ä»¬ä¹Ÿä¿®å¤ä¸‹æ‹‰åˆ·æ–°æ–¹æ³•ï¼Œä½¿å…¶ä½¿ç”¨æ–°çš„é˜²é‡å¤æœºåˆ¶ï¼š

---

```diff
      await refreshUserCurrencies()
  
-     if (activeTab.value === 'currency') {
-       currencies.length = 0
-       await fetchCurrencyOrders()
-     } else {
-       await fetchEquityData()
-     }
+     // ä½¿ç”¨é˜²é‡å¤çš„æ•°æ®è·å–æ–¹æ³•
+     await fetchDataWithDebounce()
  
      // åˆ·æ–°æˆåŠŸæç¤º
```

---

ç°åœ¨è®©æˆ‘ä»¬ä¹Ÿä¼˜åŒ–ä¸€ä¸‹åˆ·æ–°æ•°æ®çš„æ–¹æ³•ï¼Œä½¿å…¶ä¹Ÿä½¿ç”¨é˜²é‡å¤æœºåˆ¶ï¼š

---

```diff
  const refreshData = () => {
    console.log('äº¤æ˜“æ‰€é¡µé¢åˆ·æ–°æ•°æ®')
-   if (activeTab.value === 'currency') {
-     currencies.length = 0
-     fetchCurrencyOrders()
-   } else {
-     fetchEquityData()
-   }
+   // å¦‚æœé¡µé¢æœªåˆå§‹åŒ–ï¼Œè·³è¿‡å¤–éƒ¨è°ƒç”¨çš„è¯·æ±‚
+   if (!isInitialized.value) {
+     console.log('é¡µé¢æœªåˆå§‹åŒ–å®Œæˆï¼Œè·³è¿‡å¤–éƒ¨è°ƒç”¨çš„æ•°æ®è¯·æ±‚')
+     return
+   }
+   fetchDataWithDebounce()
  }
  
```

---

è®©æˆ‘ä»¬ä¹Ÿä¿®æ”¹åˆ‡æ¢æ ‡ç­¾çš„æ–¹æ³•ï¼Œç¡®ä¿å®ƒä»¬ä¹Ÿä½¿ç”¨é˜²é‡å¤æœºåˆ¶ï¼š

---

```diff
  const switchTab = (tab: string) => {
    // å¦‚æœæ­£åœ¨åŠ è½½æ•°æ®ï¼Œåˆ™ä¸å…è®¸åˆ‡æ¢æ ‡ç­¾
-   if (loading.value) {
+   if (loading.value || requestingData.value) {
      uni.showToast({
        title: 'æ­£åœ¨åŠ è½½æ•°æ®ï¼Œè¯·ç¨å€™...',
```

```diff
    if (activeTab.value !== tab) {
      activeTab.value = tab
-     if (tab === 'equity') {
-       fetchEquityData()
-     } else {
-       // åˆ‡æ¢åˆ°è´§å¸æ ‡ç­¾æ—¶å…ˆæ¸…ç©ºè´§å¸åˆ—è¡¨ï¼Œå†åˆ·æ–°è´§å¸è®¢å•
-       currencies.length = 0
-       fetchCurrencyOrders()
+     // å¦‚æœé¡µé¢å·²åˆå§‹åŒ–ï¼Œæ‰æ‰§è¡Œæ•°æ®è·å–
+     if (isInitialized.value) {
+       fetchDataWithDebounce()
      }
    }
```

```diff
  const switchCurrencyTab = (tab: string) => {
    // å¦‚æœæ­£åœ¨åŠ è½½æ•°æ®ï¼Œåˆ™ä¸å…è®¸åˆ‡æ¢æ ‡ç­¾
-   if (loading.value) {
+   if (loading.value || requestingData.value) {
      uni.showToast({
        title: 'æ­£åœ¨åŠ è½½æ•°æ®ï¼Œè¯·ç¨å€™...',
```

```diff
    if (activeCurrencyTab.value !== tab) {
      activeCurrencyTab.value = tab
+     // å¦‚æœé¡µé¢å·²åˆå§‹åŒ–ï¼Œæ‰æ‰§è¡Œæ•°æ®è·å–
+     if (isInitialized.value) {
        // åˆ‡æ¢æ ‡ç­¾æ—¶å…ˆæ¸…ç©ºè´§å¸åˆ—è¡¨ï¼Œå†é‡æ–°è·å–è´§å¸è®¢å•
        currencies.length = 0
-     fetchCurrencyOrders()
+       fetchDataWithDebounce()
+     }
    }
  }
```

---

ç°åœ¨è®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹ä¿®æ”¹åçš„æ–‡ä»¶ï¼Œç¡®ä¿æ‰€æœ‰ä»£ç éƒ½æ­£ç¡®åº”ç”¨äº†ï¼š

---

Read file: src/pages/trading/exchange.vue

---

è®©æˆ‘çœ‹çœ‹é˜²é‡å¤è¯·æ±‚çš„æ–¹æ³•æ˜¯å¦æ­£ç¡®æ·»åŠ ï¼š

---

<details>
            <summary>Grep search for "fetchDataWithDebounce" â€¢ **2** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L672 | `fetchDataWithDebounce()` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L696 | `fetchDataWithDebounce()` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L838 | `const fetchDataWithDebounce = async () => {` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L874 | `fetchDataWithDebounce()` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L893 | `await fetchDataWithDebounce()` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L940 | `fetchDataWithDebounce()` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L961 | `await fetchDataWithDebounce()` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L672 | `fetchDataWithDebounce()` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L696 | `fetchDataWithDebounce()` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L838 | `const fetchDataWithDebounce = async () => {` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L874 | `fetchDataWithDebounce()` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L893 | `await fetchDataWithDebounce()` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L940 | `fetchDataWithDebounce()` |
| `file:///home/xchenxiao/Development/trade_main/unibest_base/src/pages/trading/exchange.vue` | L961 | `await fetchDataWithDebounce()` |

</details>

---

çœ‹èµ·æ¥ `fetchDataWithDebounce` æ–¹æ³•è¢«æ­£ç¡®æ·»åŠ å¹¶ä½¿ç”¨äº†ã€‚ç°åœ¨è®©æˆ‘ä»¬æ£€æŸ¥è¿™ä¸ªæ–¹æ³•çš„å…·ä½“å®ç°ï¼š

---

Read file: src/pages/trading/exchange.vue

---

å®Œç¾ï¼ç°åœ¨è®©æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹è§£å†³æ–¹æ¡ˆï¼š

## ğŸ”§ è§£å†³æ–¹æ¡ˆæ€»ç»“

æˆ‘å·²ç»æˆåŠŸä¿®å¤äº†äº¤æ˜“æ‰€é¡µé¢é¦–æ¬¡è¿›å…¥æ—¶å‘é€ä¸‰æ¬¡é‡å¤è¯·æ±‚çš„é—®é¢˜ã€‚ä»¥ä¸‹æ˜¯å…·ä½“çš„ä¿®æ”¹ï¼š

### 1. **æ·»åŠ çŠ¶æ€æ§åˆ¶å˜é‡**
```javascript
// é¡µé¢åˆå§‹åŒ–çŠ¶æ€
const isInitialized = ref(false)
// æ•°æ®è¯·æ±‚é˜²æŠ–çŠ¶æ€
const requestingData = ref(false)
```

### 2. **åˆ›å»ºé˜²é‡å¤è¯·æ±‚æ–¹æ³•**
```javascript
const fetchDataWithDebounce = async () => {
  // å¦‚æœå·²ç»åœ¨è¯·æ±‚æ•°æ®ï¼Œåˆ™è·³è¿‡
  if (requestingData.value) {
    console.log('æ•°æ®è¯·æ±‚æ­£åœ¨è¿›è¡Œä¸­ï¼Œè·³è¿‡é‡å¤è¯·æ±‚')
    return
  }
  
  requestingData.value = true
  try {
    // æ ¹æ®å½“å‰é€‰ä¸­çš„æ ‡ç­¾åˆ·æ–°å¯¹åº”æ•°æ®
    if (activeTab.value === 'currency') {
      currencies.length = 0
      await fetchCurrencyOrders()
    } else {
      await fetchEquityData()
    }
  } finally {
    requestingData.value = false
  }
}
```

### 3. **ä¿®æ”¹ç”Ÿå‘½å‘¨æœŸé’©å­**
- **`onMounted`**: åªåœ¨é¡µé¢åˆæ¬¡åŠ è½½æ—¶æ‰§è¡Œæ•°æ®è·å–ï¼Œå®Œæˆåè®¾ç½® `isInitialized = true`
- **`onShow`**: æ£€æŸ¥é¡µé¢æ˜¯å¦å·²åˆå§‹åŒ–ï¼Œæœªåˆå§‹åŒ–åˆ™è·³è¿‡è¯·æ±‚
- **`useTabItemTap`**: æ£€æŸ¥é¡µé¢æ˜¯å¦å·²åˆå§‹åŒ–ï¼Œæœªåˆå§‹åŒ–åˆ™è·³è¿‡è¯·æ±‚

### 4. **ä¼˜åŒ–å…¶ä»–ç›¸å…³æ–¹æ³•**
- ä¿®æ”¹ `switchTab` å’Œ `switchCurrencyTab` æ–¹æ³•ï¼Œæ·»åŠ åˆå§‹åŒ–çŠ¶æ€æ£€æŸ¥
- ä¿®æ”¹ `refreshData` æ–¹æ³•ï¼Œä½¿ç”¨é˜²é‡å¤æœºåˆ¶
- ä¿®æ”¹ `onRefresh` ä¸‹

---

